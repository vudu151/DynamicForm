<!DOCTYPE html>
<html>
<head>
    <title>Mermaid Diagram 6</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
</head>
<body>
    <div class="mermaid">
sequenceDiagram
    participant Doctor
    participant FormRenderer
    participant DataService
    participant Database
    
    Doctor->>DataService: Xem bá»‡nh Ã¡n (ObjectId: 12345)
    DataService->>Database: Load FORM_DATA
    Database-->>DataService: Data + FormVersionId
    
    DataService->>Database: Load FormVersion metadata
    Database-->>DataService: Version metadata (v1.0)
    
    DataService->>Database: Load Fields cá»§a version Ä‘Ã³
    Database-->>DataService: Fields metadata
    
    DataService-->>FormRenderer: Data + Metadata (version cÅ©)
    FormRenderer->>FormRenderer: Render form theo version cÅ©
    FormRenderer-->>Doctor: Hiá»ƒn thá»‹ form vá»›i dá»¯ liá»‡u cÅ©
    
    Note over Doctor,Database: Form Ä‘Æ°á»£c render theo Ä‘Ãºng<br/>version khi dá»¯ liá»‡u Ä‘Æ°á»£c táº¡o
    </div>
</body>
</html>
